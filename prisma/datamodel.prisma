enum TimeKind {
  PAST
  FUTRUE
}

enum Role {
  ADMIN
  CUSTOMER
}

type User {
  id: ID! @id
  username: String! @unique
  password: String!
  role: Role! @default(value: CUSTOMER)
}


type Keyword{
  id: ID! @id
  name:String! @unique
}

type IndustryEvent{
  id: ID! @id
  title:String!
  src:String!
  reportTime:DateTime!
  happen:TimeKind!
  happenTime:DateTime!
  content:String!
  Keywords:[Keyword!]!
}

type CompanyEvent{
  id: ID! @id
  title:String!
  content:String!
  reportTime:DateTime!
  happen:TimeKind!
  happenTime:DateTime
  influence:String!
  kind:FactorKind!
  dierction:Direction!
  company:Company!
}

enum Direction{
  GOOD
  BAD
}

enum FactorKind{
  ASSET
  DEBT
  EQUITY
  INCOME
  COST
  FEE
  BRAND
}

type IndustryInfluence{
  id: ID! @id
  keyword:Keyword
  keywordDirection:Direction!
  kind:FactorKind!
  desc:String!
  industry:Industry!
  direction:Direction!
}

type Product{
  id: ID! @id
  name:String!  @unique
  introduce:String!
  inputs:[Industry!]! @relation(name: "Input")
  outputs:[Industry!]! @relation(name: "Output")
}

type Research{
  id: ID! @id
  desc:String!
}

type Industry{
  id: ID! @id
  code:String
  name:String! @unique
  desc:String!
  researches:[Research!]!
  companies:[Company!]!
  influences:[IndustryInfluence!]!
  purchases:[Product!]!@relation(name: "Input")
  selles:[Product!]! @relation(name: "Output")
}

type Comment{
  id: ID! @id
  createTime:DateTime @createdAt 
  desc:String!
  company:Company
}

type CompanyProduct{
  id: ID! @id
  name:String!  @unique
  introduce:String!
  inputs:[Company!]! @relation(name: "Purchase")
  outputs:[Company!]! @relation(name: "Sell")
}


type Company{
  id: ID! @id
  symbol:String! @unique
  name:String! @unique
  area:String
  industry:String
  fullname:String
  enname:String
  market:String
  exchange:String
  currType:String
  listStatus:String
  listDate:String
  delistDate:String
  isHS:String
  scope:String
  desc:String
  purchases:[CompanyProduct!]! @relation(name: "Purchase")
  selles:[CompanyProduct!]! @relation(name: "Sell")
  comments:[Comment!]!
  pool:Boolean
  trades:[Industry!]!
  events:[CompanyEvent!]!
}
